<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Vue2学习笔记, 小田＇s Blog">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>Vue2学习笔记 | 小田＇s Blog</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 5.4.2"></head>




<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">小田＇s Blog</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">小田＇s Blog</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        
    </ul>
</div>


        </div>

        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/0.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Vue2学习笔记</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                          <div class="article-tag">
                            <span class="chip bg-color">无标签</span>
                          </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0%E6%95%B4%E5%90%88/" class="post-category">
                                前端笔记整合
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2022-10-14
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">

        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="Vue2"><a href="#Vue2" class="headerlink" title="Vue2"></a>Vue2</h1><h2 id="脚手架文件结构"><a href="#脚手架文件结构" class="headerlink" title="脚手架文件结构"></a>脚手架文件结构</h2><pre><code>-node_modules
-public
     |_favicon.ico:页签图标
     |_index.html:主页面
-src
    |_assets:存放静态资源
    |        |_logo.png
    |_compoent: 存放组件
    |        |_helloWorld.vue
    |_App.vue:汇总所有组件
    |_main.js：入口文件
-.gitignore:git版本管制忽略的配置
-bable.config.js:bable的配置文件
-package.json:应用包配置文件
-READE.md:应用描述文件
-package-lock.json:包版本控制文件
</code></pre>
<h2 id="关于不同版本Vue的说明"><a href="#关于不同版本Vue的说明" class="headerlink" title="关于不同版本Vue的说明"></a>关于不同版本Vue的说明</h2><p>1.vue.js 是完整版的Vue，包含核心功能和模板解析器<br>2.vue.runting.xxx.js是运行版本的Vue,只有核心功能<br> 因为vue.runtime.xxx.js没有模板解析器,所以不能使用template配置项,需要使用render函数收到createElement函数去指定具体内容</p>
<h2 id="Vue-config-js配置文件"><a href="#Vue-config-js配置文件" class="headerlink" title="Vue.config.js配置文件"></a>Vue.config.js配置文件</h2><blockquote>
<p>使用 vue inspect &gt;output.js 可以查看到Vue脚手架的默认配置。<br>使用vue.config.js可以对脚手架进行个性化定制，详情：<a target="_blank" rel="noopener" href="https://cli.vuejs.org/zh">https://cli.vuejs.org/zh</a></p>
</blockquote>
<h2 id="ref-属性"><a href="#ref-属性" class="headerlink" title="ref 属性"></a>ref 属性</h2><p>  1.被用来给元素或子组件注册引用信息（id的替代）<br>  2.应用在html标签上获取的是真实DOM元素，应用在组件标签上是组件实例对象<br>  3.使用方式：<br>        打标识：<h1 ref="xxx"></h1> 或<School ref="xxx"></School><br>        获取：this.$refs.xxx</p>
<h2 id="配置项props"><a href="#配置项props" class="headerlink" title="配置项props"></a>配置项props</h2><p>  功能：让组件接收外部传过来的数据<br>  （1）传递数据：<Demo name="xxx" /><br>   (2)接收数据：1.只接收： props:[‘name’]<br>                2.限制类型： props:{ name:Number}<br>                3.限制类型，限制必要性，指定默认值<br>                        props:{<br>                            type:String,<br>                            required:true,<br>                            default<br>                        }<br>   备注：props是只读的，Vue底层会监测你对props的修改，如果修改就会发出警告</p>
<h2 id="mixin-混入"><a href="#mixin-混入" class="headerlink" title="mixin(混入)"></a>mixin(混入)</h2><p>  功能： 把多个组件共用的配置提取成一个混入对象<br>  使用： 1：定义：{ data(){},methods:{}…}<br>        2:使用： 全局：Vue.mixin(xx)    局部：mixins:[‘xxx’,’xxx’]</p>
<h2 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h2><p>   功能： 增加Vue<br>   本质： 包含install方法的一个对象，install的第一个参数是Vue（构造函数），第二个以后的参数是插件使用者传递的数据<br>   定义插件：<br>       对象.install=function(Vue,options){<br>        Vue.filter(…)</p>
<pre><code>    添加全局指令
    Vue.directive(...)
    配置全局混入
    Vue.mixin(...)
     添加实例方法
     Vue.prototype.$myMethod=function()&#123;&#125;
     Vue.prototype.$myProperty=xxx
   &#125;
使用插件：Vue.use()
</code></pre>
<h2 id="scoped样式"><a href="#scoped样式" class="headerlink" title="scoped样式"></a>scoped样式</h2><p>   作用：让样式在局部生效，防止命名冲突<br>   写法：<style scoped></p>
<h2 id="总结TodoList案例"><a href="#总结TodoList案例" class="headerlink" title="总结TodoList案例"></a>总结TodoList案例</h2><pre><code>1.组件化编码流程：
    （1）拆分静态组件：组件要按照功能点拆分，不要与html元素命名冲突
     (2)实现动态组件：考虑好数据的存放位置，数据是一个组件用还是多个组件用
          1).一个组件使用，放在组件自身即可
          2）。多个组件使用，放在共同的父组件上（状态提升） 
    （3）实现交互：从绑定事件开始
2.props适用于：
     (1)父组件==》子组件通信
     (2)子组件==》父组件通信，需要父组件给子组件传递函数
3.v-model注意点：v-model绑定值不能是props传递过来的值，因为props不能修改
4.props传过来的值如果是对象类型，修改对象的属性时Vue不会报错，但是不推荐此做法
</code></pre>
<h2 id="webStorage"><a href="#webStorage" class="headerlink" title="webStorage"></a>webStorage</h2><p>  1.存储内容大小一般在5MB左右<br>  2.浏览器通过Window.sessionStorage和Window.localStorage属性实现本地存储机制<br>  3.相关API：<br>        1.setItem(‘key’,’value’):接收键和值，添加到存储中，存在键则更新<br>        2.getItem(‘key’):返回键值<br>        3.removeItem(‘key’):从存储中删除<br>        4.clear():清楚所有存储数据<br>  4.备注：<br>    SessionStorage内容随浏览器关闭而消失<br>    LocalStorage内容需要手动清除<br>    getItem()如果对应的value获取不利，则返回null<br>    Json.parse(null)结果为null</p>
<h2 id="组件的自定义事件"><a href="#组件的自定义事件" class="headerlink" title="组件的自定义事件"></a>组件的自定义事件</h2><p>   1.一种组件间通信的方式，适用于：子=&gt;&gt;父<br>   2.使用场景：A是父，B是子，B想给A数据，就要在A中给B绑定自定义事件，事件回调在A中<br>   3.绑定自定义事件：<br>            1.在父组件中：&lt;Deomo @MyEvent=”test”/&gt; 或者<Demo v-on:MyEvent="test"/><br>            2.在父组件中：<br>                <Demo ref="demo"/><br>                    …<br>                mounted(){<br>                    this.$refs.xxx.$on(‘MyEvent’,this.test)<br>                    }<br>            3.如果只想事件触发一次，可以使用once修饰符或者$once方法<br>  4.触发自定事件：this.$emit(‘MyEvent’,数据)<br>  5.解绑自定义事件：this.$off(‘MyEvent’)<br>  6.组件上也可以绑定原生DOM事件，需要使用native修饰符<br>  7.通过this.$refs.xxx.$on(‘MyEvent’,回调函数)绑定自定义事件时，要么回调配置在methods中，要么用箭头函数，否则会出现this指向问题</p>
<h2 id="全局事件总线-GlobalEventBus"><a href="#全局事件总线-GlobalEventBus" class="headerlink" title="全局事件总线(GlobalEventBus)"></a>全局事件总线(GlobalEventBus)</h2><p>   1.一种组件间的通信方式，适用于任意组件间的通信<br>   2.安装：new Vue({<br>        beforeCreate(){<br>            Vue.protype.$bus=this//安装全局事件总线，this为当前vm<br>     }<br>  })<br>   3.使用：<br>         1.接收数据：A组件想收数据，则在A组件中给$bus绑定自定事件，事件的回调留在A组件自身<br>          methods(){<br>            demo(date){….}<br>       }<br>          mounted(){<br>            this.$bus.$on(‘hello’,this.demo)<br>      }<br>         2.提供数据：this.$bus.$emit(‘hello’,数据)<br> 4.最好在beforeDestroy钩子中，用$off去解绑当前组件所用到的事件</p>
<h2 id="消息订阅与发布"><a href="#消息订阅与发布" class="headerlink" title="消息订阅与发布"></a>消息订阅与发布</h2><p>  1.一种组件间的通信方式，适用于任意组件间通信<br>  2.使用步骤：<br>        1.安装pubsub: npm i pubsub-js<br>        2.引入：import pubsub from ‘pubsub-js’<br>        3.接收数据：A组件想接收数据，则在A组件中订阅消息，订阅的回调在A组件<br>          methods(){<br>            demo(_,data){…}<br>        }<br>        …<br>        mounted(){<br>            this.pid=pubsub.subscribe(‘hello’,this.demo)//订阅消息<br>        }<br>        4.提供数据：pubsub.publish(‘hello’,数据)<br>        5.最好在beforeDestroy钩子中，用PubSub.unsubscribe(pid)去取消订阅</p>
<h2 id="Vue封装的过渡与动画"><a href="#Vue封装的过渡与动画" class="headerlink" title="Vue封装的过渡与动画"></a>Vue封装的过渡与动画</h2><pre><code>    1.作用：在插入，更新或者移除DOM元素时，在合适的时候给元素添加样式类名
    2.写法：
            1.准备好样式：
                    进入的样式：
                        v-enter:进入的起点
                        v-enter-active；进入的过程中
                        v-enter-to:进入的终点
                    离开的样式：
                        v-leave:离开的起点
                        v-leave-active；离开的过程中
                        v-leave-to:离开的终点
            2.使用&lt;transition&gt;包裹要过渡的元素，设置name属性
                    &lt;transition name=&quot;hello&quot;&gt;
                        &lt;h1 v-show=&quot;isShow&quot;&gt;Hello&lt;/h1&gt;
                    &lt;/transition&gt;
            3.备注：有多个元素需要过渡，则需要使用：&lt;transition-group&gt;并给每个元素指定key值
</code></pre>
<h2 id="Vue脚手架配置代理"><a href="#Vue脚手架配置代理" class="headerlink" title="Vue脚手架配置代理"></a>Vue脚手架配置代理</h2><pre><code>方法一：在vue.config.js中配置
        devServer:&#123;
            proxy:&quot;http://localhost:5000&quot;
            &#125;
    说明：优点：配置简单，请求资源时直接发给前端（8080）即可
         缺点：不能配置多个代理，不能灵活控制请求是否走代理
         工作方式：当请求前端不存在的资源时，那么该请求会转发给服务器，匹配优先前端资源
</code></pre>
<p>  方法二：编写vue.config.js具体代理规则<br>            modul.exports={<br>                devSever:{<br>                    proxy:{<br>                    ‘/api’:{ //匹配所有以‘/api’开头的请求路径<br>                    target:”<a href="http://localhost:5000&quot;,//代目标的基础路径">http://localhost:5000&quot;,//代目标的基础路径</a><br>                    changeOrigin:true,<br>                    pathRewrite:true,<br>                    },<br>                     ‘/api’:{<br>                    target:”<a href="http://localhost:5001&quot;">http://localhost:5001&quot;</a>,<br>                    changeOrigin:true,<br>                    pathRewrite:true,<br>                    }<br>                }<br>            }<br>            }<br>            changeOrigin 为ture时，服务器收到的请求头的host为：localhost:5000<br>            changeOrigin 为false时，服务器收到的请求头的host为：localhost:8080<br>      说明： 优点：可以配置多个代理，且可以灵活的控制请求是否走代理<br>            缺点：配置略微繁琐，请求资源时必须加载前缀</p>
<h2 id="插槽"><a href="#插槽" class="headerlink" title="插槽"></a>插槽</h2><pre><code>    1.作用；让父组件可以向子组件指定的位置插入html结构，也是一种组件间通信方式，适用于父组件=》子组件
    2。分类：默认插槽，具名插槽，作用域插槽
    3.用法：
           (1).默认插槽：父：
                        &lt;Category&gt;
                            &lt;div&gt;html结构&lt;/div&gt;
                        &lt;/Category&gt;
                    子：
                        &lt;template&gt;
                    `       &lt;div&gt;
                                定义插槽
                             &lt;slot&gt;默认内容&lt;/slot&gt;
                             &lt;/div&gt;
                        &lt;/template&gt;
            (2).具名插槽：父：
                        &lt;Category&gt;
                             &lt;template slot=&quot;center&quot;&gt;
                            &lt;div&gt;html结构1&lt;/div&gt;
                            &lt;/template&gt;
                            &lt;template slot=&quot;footer&quot;&gt;
                            &lt;div&gt;html结构2&lt;/div&gt;
                            &lt;/template&gt;    
                        &lt;/Category&gt;
                    子：
                        &lt;template&gt;
                    `       &lt;div&gt;
                                定义插槽
                             &lt;slot name=&quot;center&quot;&gt;默认内容&lt;/slot&gt;
                             &lt;slot name=&quot;footer&quot;&gt;默认内容&lt;/slot&gt;   
                             &lt;/div&gt;
                        &lt;/template&gt;
             (3).作用域插槽：
                    1.理解：数据在组件的自身，到根据数据生成的结构需要组件的使用者来决定
                    （games数据在Category组件中,使用数据所遍历出来的结构由App组件决定）
                    父：
                        &lt;Category&gt;
                              &lt;template scope=&quot;scopeData&quot;&gt;
                                    生成的是ul列表
                                    &lt;ul&gt;
                                        &lt;li v-for=&quot;g in scopeData.games&quot; :key=&quot;g&quot;&gt;&#123;&#123;g&#125;&#125;&lt;/li&gt;
                                    &lt;/ul&gt;
                               &lt;/template&gt;
                        &lt;/Category&gt; 
                        &lt;Category&gt;
                              &lt;template scope=&quot;scopeData&quot;&gt;
                                    生成的是ol列表
                                    &lt;ol&gt;
                                        &lt;li v-for=&quot;g in scopeData.games&quot; :key=&quot;g&quot;&gt;&#123;&#123;g&#125;&#125;&lt;/li&gt;
                                    &lt;/ol&gt;
                               &lt;/template&gt;
                        &lt;/Category&gt;
                     子：
                        &lt;template&gt;
                            &lt;div&gt;
                                &lt;slot :games=&quot;games&quot;&gt;&lt;/slot&gt;
                            &lt;/div&gt;
                        &lt;/template&gt;
                         &lt;sctipt&gt;
                            export default &#123;
                                name:&#39;Category&#39;,
                                 data()&#123;
                                    return&#123;  games:[.....] &#125;                                    
                                &#125;   
                            &#125;
                         &lt;/script&gt;   
</code></pre>
<h2 id="vuex"><a href="#vuex" class="headerlink" title="vuex"></a>vuex</h2><pre><code>1.概率：专门在Vue中实现集中式状态（数据）管理的一个Vue组件，对vue应用中多个组件的共享状态进行集中式管理（读、写）
      也是一种组件间的通信方式，适合任意组件间通信
2.什么时候用：
        1.多个组件依赖同一个状态
        2. 来自不同组件的行为需要变更同一状态
3.搭建环境： 
   (1)创建文件 
      创建src/store/index.js
      引入Vue:import Vue from &#39;vue&#39;
      引入Vuex：import Vuex from &#39;vuex
      应用Vuex插件：Vue.use(Vuex)
      准备actions,mutations,state :const ...=&#123;&#125;
      创建并暴露store
        export default new Vuex.Store(&#123;
                actions,mutations,state
        &#125;)
    (2)在main.js中创建vm时传入store配置项
3.基本使用：
    1).初始化数据，配置actions，mutation，操作文件store。js
        引入Vue核心库和Vuex
        Vue.use（Vuex）
        const actions=&#123;
              jia(context,value)&#123;
                context.commit(&#39;JIA&#39;,value)                    
                   &#125;      
                &#125;
        const mutations=&#123;
              //执行加  
              JIA(state,value)&#123;
                state.sum+=value                    
                   &#125;      
                &#125;
        const state=&#123;
                sum:0        
                &#125;
        export default new Vuex.store(&#123;
            actions,mutations,state
           &#125;)
    2).组件读取Vuex中的数据：$store.state.sum
    3).组件中修改Vuex中的数据：$store.dispatch(&#39;actions中的方法名&#39;,数据)
                           $store.commit(&#39;mutations中的方法名&#39;,数据)
  备注：没有网络请求和其他业务逻辑时，组件可以越过actions，不写dispath，直接写commit
</code></pre>
<p>4.getters的使用：<br>        1.概念：当state中的数据需要经过加工后在使用时，可使用getters加工<br>        2.在store中追加getters配置项<br>        const getters={<br>            bigSum(state){<br>                return state.sum*10<br>            }<br>        }<br>        3.创建时传入getters<br>5.四个map方法的使用<br>        导入：import {mapState,mapGetters,mapActions,mapMutations} from ‘vuex’<br>        1.mapState方法：帮助映射state中的数据为计算属性<br>        computed:{<br>        …mapState({sum:’Sum’,school:’school’,course:’course’}) 对象写法<br>        …mapState([‘Sum’,’school’,’course’])                   数组写法<br>        }<br>        2.mapGetters方法：帮助映射getters中的数据为计算属性<br>        computed:{<br>        …mapGetters({bigSum:’bigSum’})                        对象写法<br>            …mapGetters([‘bigSum’])                           数组写法<br>        }<br>        3.mapActions方法：帮助生成与actions对话的方法,即包含$store.dispatch(xxx)的函数<br>        methods:{<br>        …mapActions({incrementOdd:’jiaOdd’,incrementWait:’jiaWait’}) 对象写法<br>        …mapActions([‘jiaOdd’,’jiaWait’])                   数组写法<br>        }<br>        4.mapMutations方法：帮助生成mutations对话的方法，即包含$store.commit(xxx)的函数<br>        methods:{<br>        …mapState({increment:’JIA’,decrement:’JIAN’}) 对象写法<br>        …mapState([‘JIA’,’JIAN’])                   数组写法<br>        }<br>        注：数组方法需要属性名与store中的名字相同<br>6.模块化+命名空间<br>        1.目的：代码好维护，多种数据分类明确<br>        2.修改store.js<br>            const countAbout={<br>                namespaced:true,//开启命名空间<br>                …<br>            }<br>            const personAbout={<br>                 namespaced:true,//开启命名空间<br>                   …<br>            }<br>        3.开启命名空间后，读取sate数据：<br>            方法一： this.$store.state.personAbout.personList<br>            方法二： …mapState(‘countAbout’,[‘sum’,’school’….])<br>        4.开启命名空间后，读取getters数据：<br>            方法一： this.$store.getters[‘personAbout/firstPersonName’]<br>            方法二： …mapGetters(‘countAbout’,[‘bigSum’])<br>        5.开启命名空间后，组件中调用dispatch：<br>            方法一： this.$store.dispatch(‘personAbout/addPersonWang’,person)<br>            方法二： …mapActions(‘countAbout’,{‘incrementOdd:’jiaOdd’,incrementWati:’jiaWait’})<br>        6.开启命名空间后，组件中调用commit：<br>            方法一： this.$store.commit(‘personAbout/showMsg’)<br>            方法二： …mapMutations(‘personAbout’,{‘showMsg’})</p>
<h2 id="vue-router"><a href="#vue-router" class="headerlink" title="vue-router"></a>vue-router</h2><p>基本使用：<br>    1.vue-router：Vue的一个插件库，专门用来实现SPA应用<br>    2.SPA应用：单页web应用，整个应用只有一个完整的页面，点击页面中的导航链接不会刷新页面，只会做页面局部更新<br>              数据需要通过ajax请求获取<br>    3.路由：1.一个路由就是一组映射关系：key value<br>           2.key 为路径，value可能是function或component<br>           3.分类：后端路由：value为function，用于处理客户端提交的请求<br>                          服务器收到请求时，根据请求路径找到匹配函数处理请求，返回响应数据<br>                  前端路由：value为component,用于展示页面内容<br>                           当浏览器路径改变时，对应的组件显示<br>    4.基本路由：1安装：npm i vue-router<br>              2应用：导入并引用Vue.use(VueRouter)<br>              3创建router文件夹并配置<br>                import VueRouter from ‘vue-router’<br>                import About from ‘../compoents/About’<br>                import Home from ‘../compoents/Home’<br>                // 创建并暴露一个路由实例对象，管理一组一组的路由规则<br>                export default new VueRouter({<br>                       routes:[<br>                      {<br>                         path:’/about’,<br>                        component:About<br>                        },<br>                      {<br>                          path:’/home’,<br>                         component:Home<br>                       },<br>                          ]<br>                })<br>                4.实现切换 （active-class可配置高亮样式）<br>                <router-link active-calss="active" to="/about">About</router-link><br>                5.指定展示位置<br>                <router-view></view><br>                几个注意点：  1.路由组件通常放在pages文件夹，一般组件通常放在Component文件夹<br>                            2.通过切换，“隐藏”了路由组件，默认是被销毁的，需要的时候再挂载<br>                            3.每个组件都有自己的$route属性，里面存储自己的路由信息<br>                            4.整个应用只有一个router,可以通过组件的$router属性获取到<br>    5.多级路由（嵌套路由）<br>            1.配置路由规则,使用children配置项：<br>                routes:[<br>                  {path:’/about’,componment:About},<br>                    //子路由路径不要带斜杠<br>                  {path:’/home’,componment:Home,children:[{path:’news’,component:News},{path:’message’,component:Message}]}<br>                 ]<br>            2.跳转：要写完整路径<br>                <router-link to="/home/news">News组件内容</router-link><br>    6.路由的query参数<br>            1.传递参数：<br>                &lt;router-link :to”{path:’/home/message/detail’,<br>                                 query:{id:?,title:?}}”&gt;<br>                </router-link><br>            2.接收参数：<br>                $route.query.id<br>    7.命名路由<br>            1.作用：简化路由跳转<br>            2.命名：router文件夹中的index.js,添加name配置<br>                    {name:’xxx’,path:’xxx’,children:[{xxx}]}<br>               简化跳转：<br>                &lt;router-link :to=”{name:”xxx”}”&gt;跳转</router-link><br>                &lt;router-link :to=”{<br>                            name:”xxx”,<br>                            query:{<br>                                id:xxx,<br>                                title:xxx,<br>                            }<br>                            }”&gt;<br>                跳转</router-link><br>    8.路由的params参数<br>            1.配置路由：<br>                 使用占位符声明接收params参数<br>                {name:’xiang’,path:’xxx/:id/:title’,component:xx}<br>            2.传递参数：<br>                <router-link :to="/home/message/title/666/hello"></router-link><br>                &lt;router-link :to=”{name:”xiang”,params:{id:xxx,title:xxx}}”&gt;</router-link><br>            注意：路由携带params参数时，若使用to的对象写法，不能用path配置项，只能用name配置项<br>            3.接收参数：<br>                $route.params.id<br>                $route.params.title<br>    9.路由的props配置<br>            作用：让路由组件更方便的接收参数<br>                (1) props对象写法,值为对象，对象中的所有key-value都会以props形式传给Detail组件(只能传固定值)<br>                 props:{a:1,b:’hello’},<br>                (2)值为布尔值，为真，会把该路由的所有params参数,以props形式传给Detail组件<br>                 props:true,<br>                (3)值为函数，所有key-value都会以props形式传给Detail组件（重要）<br>                props($route){<br>                return {id:$route.params.id, title:$route.params.title}<br>                }<br>    10.<router-link>的replace属性<br>            1.作用：控制路由跳转时操作浏览器历史记录的模式<br>            2.浏览器历史记录有两种写入方式：push,replace,push为追加,replace是替换当前记录，<br>                路由跳转默认为push<br>            3.开启replace:<router-link replace...></router-link><br>    11.编程式路由导航<br>            1.作用：不借助<router-link>实现路由跳转,让路由跳转更加灵活<br>            2.编码：$router的api<br>             pushShow(m){<br>                 this.$router.push({<br>                     name:’xiangqing’,<br>                     query: {<br>                         id: m.id,<br>                         title: m.title,<br>                      }<br>                      })<br>                     },<br>             replaceShow(m){<br>                this.$router.replace({<br>                     name:’xiangqing’,<br>                     query: {<br>                        id: m.id,<br>                        title: m.title,<br>                        }<br>                      })<br>                    }<br>             this.$router.forward()//前进<br>             this.$router.back()//后退<br>             this.$router.go(number)//前进或者后退<br>    12.缓存路由组件<br>            1.作用：让不展示的路由组建保持挂载，不会进入销毁流程<br>            2.编码：<br>                多个里面选几个缓存：  :include=”[‘News’,’Message’]”<br>                <keep-alive include="News"><br>                    <router-view></router-view><br>                </keep-alive><br>            注意：需要缓存的组件展示在什么地方<br>    13.两个路由组件生命周期钩子<br>            1.作用：路由组件所独有的两个钩子，用于捕获路由组件的激活状态<br>            2.activated：路由组件被激活时触发<br>              deactivated:路由组件失活时触发<br>    14.路由守卫<br>            1.作用：对路由进行权限控制<br>            2.分类：全局守卫，独享守卫，组件内守卫<br>            3.全局守卫<br>                // 全局前置路由守卫–初始化时调用，每次路由切换之前调用<br>                router.beforeEach((to,from,next)=&gt;{<br>                if(to.meta.isAuth===true)//判断是否需要权限控制<br>                     {<br>                          if (localStorage.getItem(‘school’)===’atguigu’)//权限控制的具体规则<br>                         {<br>                         next()//放行<br>                            }else {<br>                                    alert(‘无权限查看’)<br>                          }<br>                    }else{<br>                     next()//放行<br>                    }<br>                })<br>                // 全局后置路由守卫–初始化时调用，每次路由切换之后调用<br>                router.afterEach((to,from)=&gt;{<br>                        document.title=to.meta.title || ‘TT’//修改网页的title<br>                })<br>            4.独享路由守卫<br>                某一个路由所独享的独享路由守卫<br>                beforeEnter:(to, from, next)=&gt;{<br>                     if(to.name===’xinwen’){<br>                             if(localStorage.getItem(‘school’)==’atguigu’){<br>                                 next()<br>                              }else {<br>                                  alert(‘无权限’)<br>                                 }<br>                     }else {<br>                         next()<br>                         }<br>                }<br>            5.组件内守卫<br>                进入守卫，通过路由规则，进入该组件时被调用<br>                beforeRouterEnter(to,from,next){ }<br>                离开守卫，通过路由规则，离开该组件时被调用<br>                beforeRouterLeave(to,from,next){ }<br>    15路由器的两种工作模式<br>            1.对于URL来说，hash值： #及后面的内容就是hash值<br>            2.hash值不会包含在http请求中，hash值不会带给服务器<br>            3.hash模式：<br>                    1.地址带#<br>                    2.若以后将地址通过第三方手机app分享，若app校验严格，则地址会标记为不合法<br>                    3.兼容性好<br>              history模式：<br>                    1.地址不带#<br>                    2.兼容性和hash模式想比略差<br>                    3.应用部署需要后端人员支持，解决刷新页面服务端404的问题</p>
<pre><code>          改变模式：再路由配置中
                 export default new Router(&#123;mode:&#39;history&#39;,....&#125;)   
        
</code></pre>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">无关风月</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://amazingtc.github.io/2022/10/14/Vue2%E7%AC%94%E8%AE%B0(%E9%83%A8%E5%88%86)/">https://amazingtc.github.io/2022/10/14/Vue2%E7%AC%94%E8%AE%B0(%E9%83%A8%E5%88%86)/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">无关风月</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            <span class="chip bg-color">无标签</span>
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
        </div>
    </div>

    

    

    

    
    <div class="livere-card card" data-aos="fade-up">
    <!-- 来必力City版安装代码 -->
    <div id="lv-container" class="card-content" data-id="city" data-uid="MTAyMC81NzQyMi8zMzg4Ng==">
        <script type="text/javascript">
            (function (d, s) {
                let j, e = d.getElementsByTagName(s)[0];
                if (typeof LivereTower === 'function') {
                    return;
                }

                j = d.createElement(s);
                j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
                j.async = true;

                e.parentNode.insertBefore(j, e);
            })(document, 'script');
        </script>
        <noscript>为正常使用来必力评论功能请激活JavaScript。</noscript>
    </div>
    <!-- City版安装代码已完成 -->
</div>
    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2022/10/15/Postman%E7%9A%84%E4%BD%BF%E7%94%A8/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/0.jpg" class="responsive-img" alt="Postman的基本使用">
                        
                        <span class="card-title">Postman的基本使用</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2022-10-15
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7/" class="post-category">
                                    实用工具
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2022/10/13/Axios%E5%85%A5%E9%97%A8/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/0.jpg" class="responsive-img" alt="Axios入门">
                        
                        <span class="card-title">Axios入门</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2022-10-13
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0%E6%95%B4%E5%90%88/" class="post-category">
                                    前端笔记整合
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="tencent"
                   type="playlist"
                   id="8261206898"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.4'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    
    <div class="container row center-align" style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2022</span>
            
            <span id="year">2022</span>
            <a href="/about" target="_blank">无关风月</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <span id="sitetime">载入运行时间...</span>
            <script>
                function siteTime() {
                    var seconds = 1000;
                    var minutes = seconds * 60;
                    var hours = minutes * 60;
                    var days = hours * 24;
                    var years = days * 365;
                    var today = new Date();
                    var startYear = "2022";
                    var startMonth = "10";
                    var startDate = "12";
                    var startHour = "0";
                    var startMinute = "0";
                    var startSecond = "0";
                    var todayYear = today.getFullYear();
                    var todayMonth = today.getMonth() + 1;
                    var todayDate = today.getDate();
                    var todayHour = today.getHours();
                    var todayMinute = today.getMinutes();
                    var todaySecond = today.getSeconds();
                    var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                    var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                    var diff = t2 - t1;
                    var diffYears = Math.floor(diff / years);
                    var diffDays = Math.floor((diff / days) - diffYears * 365);
                    var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                    var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) /
                        minutes);
                    var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours -
                        diffMinutes * minutes) / seconds);
                    if (startYear == todayYear) {
                        document.getElementById("year").innerHTML = todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffDays + " 天 " + diffHours +
                            " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    } else {
                        document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffYears + " 年 " + diffDays +
                            " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    }
                }
                setInterval(siteTime, 1000);
            </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/AmazingTc" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:445632625@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=445632625" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 445632625" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

	
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
